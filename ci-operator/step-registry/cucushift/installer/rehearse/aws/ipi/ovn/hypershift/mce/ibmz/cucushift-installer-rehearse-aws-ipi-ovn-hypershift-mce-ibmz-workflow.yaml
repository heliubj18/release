workflow:
  as: cucushift-installer-rehearse-aws-ipi-ovn-hypershift-mce-ibmz
  steps:
    pre:
      - chain: cucushift-installer-rehearse-aws-ipi-ovn-ingress-nlb-provision
      - ref: hypershift-mce-install
      - chain: hypershift-mce-ibmz-create
      - chain: cucushift-hypershift-extended-enable-qe-catalogsource
      - ref: cucushift-hypershift-extended-idp-htpasswd
    post:
      - chain: hypershift-mce-ibmz-destroy
      - chain: cucushift-installer-rehearse-aws-ipi-deprovision
    env:
      HYPERSHIFT_BASEDOMAIN: 'testhcptp.com'
      HYPERSHIFT_NODE_COUNT: 2
      IC_CLI_VERSION: '2.16.1'
      IC_REGION: 'jp-tok'
      HC_NAME: 'hcp-ci'
      HC_NS: 'agent-ibmz'
  documentation: |-
    This is the workflow to trigger Prow's rehearsal test when submitting installer steps/chain/workflow
